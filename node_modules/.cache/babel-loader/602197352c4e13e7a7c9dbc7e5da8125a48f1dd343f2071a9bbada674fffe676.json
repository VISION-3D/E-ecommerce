{"ast":null,"code":"import React from'react';import{Link}from'react-router-dom';import{Eye,ShoppingCart,ChevronLeft,ChevronRight}from'lucide-react';import{products}from'../data/products';import{useCart}from'../context/CartContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProductsCarousel=_ref=>{let{title,showCountdown=false,filter='featured',limit=8}=_ref;const{addToCart}=useCart();const[currentIndex,setCurrentIndex]=React.useState(0);const itemsPerView=4;// Nombre de produits à afficher en même temps\n// Filtrer les produits\nconst filteredProducts=React.useMemo(()=>{switch(filter){case'sale':return products.slice(0,limit);case'latest':return products.slice(-limit).reverse();default:return products.slice(0,limit);}},[filter,limit]);const maxIndex=Math.max(0,filteredProducts.length-itemsPerView);const nextSlide=()=>{setCurrentIndex(prev=>prev>=maxIndex?0:prev+1);};const prevSlide=()=>{setCurrentIndex(prev=>prev<=0?maxIndex:prev-1);};React.useEffect(()=>{const interval=setInterval(()=>{nextSlide();},5000);return()=>clearInterval(interval);},[currentIndex]);const visibleProducts=filteredProducts.slice(currentIndex,currentIndex+itemsPerView);return/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-show-advance-info-box style-1 mb-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"title-box text-2xl font-bold text-aloe-green-dark\",children:title}),showCountdown&&/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-countdown text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-aloe-green mb-2\",children:\"Promotion se termine dans:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-4\",children:[{value:'07',label:'Jours'},{value:'23',label:'Heures'},{value:'45',label:'Minutes'},{value:'30',label:'Secondes'}].map((item,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-aloe-green text-white text-xl font-bold rounded-lg px-3 py-2\",children:item.value}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:item.label})]},idx))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex transition-transform duration-500 ease-in-out\",style:{transform:\"translateX(-\".concat(currentIndex*(100/itemsPerView),\"%)\")},children:filteredProducts.map(product=>/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-1/4 px-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"product product-style-2 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-thumnail relative overflow-hidden rounded-t-xl\",children:[/*#__PURE__*/_jsx(Link,{to:\"/catalogue\",title:product.name,children:/*#__PURE__*/_jsx(\"div\",{className:\"h-48 bg-gray-100 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name,className:\"max-h-full max-w-full object-contain transition-transform duration-300 hover:scale-110\",onError:e=>{e.target.onerror=null;e.target.src=\"data:image/svg+xml;base64,\".concat(btoa(\"\\n                              <svg width=\\\"400\\\" height=\\\"400\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n                                <rect width=\\\"400\\\" height=\\\"400\\\" fill=\\\"#f3f4f6\\\"/>\\n                                <text x=\\\"200\\\" y=\\\"200\\\" font-family=\\\"Arial\\\" font-size=\\\"16\\\" text-anchor=\\\"middle\\\" fill=\\\"#9ca3af\\\">\\n                                  \".concat(product.name,\"\\n                                </text>\\n                              </svg>\\n                            \")));}})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-3 left-3\",children:[filter==='sale'&&/*#__PURE__*/_jsx(\"span\",{className:\"flash-item bg-red-600 text-white px-2 py-1 rounded text-xs font-bold\",children:\"PROMO\"}),filter==='latest'&&/*#__PURE__*/_jsx(\"span\",{className:\"flash-item bg-aloe-green text-white px-2 py-1 rounded text-xs font-bold\",children:\"NOUVEAU\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info p-4\",children:[/*#__PURE__*/_jsx(Link,{to:\"/catalogue\",className:\"product-name block\",children:/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-800 hover:text-aloe-green transition-colors line-clamp-2 h-12\",children:product.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"wrap-price mt-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"product-price text-xl font-bold text-aloe-green\",children:[product.price.toLocaleString(),\" \",product.currency]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mt-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>addToCart(product),className:\"bg-aloe-green text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-aloe-green-dark transition-colors flex items-center\",children:[/*#__PURE__*/_jsx(ShoppingCart,{size:16,className:\"mr-1\"}),\"Ajouter\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs px-2 py-1 rounded \".concat(product.category==='Soins & Beauté'?'bg-purple-100 text-purple-800':product.category==='Boissons & Bien-être'?'bg-blue-100 text-blue-800':'bg-orange-100 text-orange-800'),children:product.category.split(' & ')[0]})]})]})]})},product.id))})}),filteredProducts.length>itemsPerView&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:prevSlide,className:\"absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-4 bg-white shadow-lg p-2 rounded-full hover:bg-gray-100 transition-colors\",\"aria-label\":\"Pr\\xE9c\\xE9dent\",children:/*#__PURE__*/_jsx(ChevronLeft,{className:\"w-6 h-6 text-aloe-green\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:nextSlide,className:\"absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-4 bg-white shadow-lg p-2 rounded-full hover:bg-gray-100 transition-colors\",\"aria-label\":\"Suivant\",children:/*#__PURE__*/_jsx(ChevronRight,{className:\"w-6 h-6 text-aloe-green\"})})]})]}),filteredProducts.length>itemsPerView&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center mt-6 space-x-2\",children:Array.from({length:Math.ceil(filteredProducts.length/itemsPerView)}).map((_,idx)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentIndex(idx*itemsPerView),className:\"w-2 h-2 rounded-full \".concat(Math.floor(currentIndex/itemsPerView)===idx?'bg-aloe-green':'bg-gray-300'),\"aria-label\":\"Page \".concat(idx+1)},idx))})]});};export default ProductsCarousel;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}