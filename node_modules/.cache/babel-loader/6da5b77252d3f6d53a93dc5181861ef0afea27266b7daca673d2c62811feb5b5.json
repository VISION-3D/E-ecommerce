{"ast":null,"code":"\"use client\";\n\nimport { animateVisualElement, VisualElement, createBox } from 'motion-dom';\nimport { useState, useLayoutEffect } from 'react';\nimport { makeUseVisualState } from '../../motion/utils/use-visual-state.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nconst createObject = () => ({});\nclass StateVisualElement extends VisualElement {\n  constructor() {\n    super(...arguments);\n    this.measureInstanceViewportBox = createBox;\n  }\n  build() {}\n  resetTransform() {}\n  restoreTransform() {}\n  removeValueFromRenderState() {}\n  renderInstance() {}\n  scrapeMotionValuesFromProps() {\n    return createObject();\n  }\n  getBaseTargetFromProps() {\n    return undefined;\n  }\n  readValueFromInstance(_state, key, options) {\n    return options.initialState[key] || 0;\n  }\n  sortInstanceNodePosition() {\n    return 0;\n  }\n}\nconst useVisualState = makeUseVisualState({\n  scrapeMotionValuesFromProps: createObject,\n  createRenderState: createObject\n});\n/**\n * This is not an officially supported API and may be removed\n * on any version.\n */\nfunction useAnimatedState(initialState) {\n  const [animationState, setAnimationState] = useState(initialState);\n  const visualState = useVisualState({}, false);\n  const element = useConstant(() => {\n    return new StateVisualElement({\n      props: {\n        onUpdate: v => {\n          setAnimationState({\n            ...v\n          });\n        }\n      },\n      visualState,\n      presenceContext: null\n    }, {\n      initialState\n    });\n  });\n  useLayoutEffect(() => {\n    element.mount({});\n    return () => element.unmount();\n  }, [element]);\n  const startAnimation = useConstant(() => animationDefinition => {\n    return animateVisualElement(element, animationDefinition);\n  });\n  return [animationState, startAnimation];\n}\nexport { useAnimatedState };\n//# sourceMappingURL=use-animated-state.mjs.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}