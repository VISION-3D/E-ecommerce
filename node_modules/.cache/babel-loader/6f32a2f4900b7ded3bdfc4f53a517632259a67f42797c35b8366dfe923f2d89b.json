{"ast":null,"code":"import _objectSpread from\"D:/bureau/E-ecommerce/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useState,useContext,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const CartContext=/*#__PURE__*/createContext();export const useCart=()=>{const context=useContext(CartContext);if(!context){throw new Error('useCart must be used within a CartProvider');}return context;};export const CartProvider=_ref=>{let{children}=_ref;const[cart,setCart]=useState([]);const[isCartOpen,setIsCartOpen]=useState(false);useEffect(()=>{const savedCart=localStorage.getItem('vitalite-cart');if(savedCart){setCart(JSON.parse(savedCart));}},[]);useEffect(()=>{localStorage.setItem('vitalite-cart',JSON.stringify(cart));},[cart]);const addToCart=function(product){let quantity=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;setCart(prevCart=>{const existingItem=prevCart.find(item=>item.id===product.id);if(existingItem){return prevCart.map(item=>item.id===product.id?_objectSpread(_objectSpread({},item),{},{quantity:item.quantity+quantity}):item);}else{return[...prevCart,_objectSpread(_objectSpread({},product),{},{quantity})];}});setIsCartOpen(true);};const removeFromCart=productId=>{setCart(prevCart=>prevCart.filter(item=>item.id!==productId));};const updateQuantity=(productId,quantity)=>{if(quantity<=0){removeFromCart(productId);return;}setCart(prevCart=>prevCart.map(item=>item.id===productId?_objectSpread(_objectSpread({},item),{},{quantity}):item));};const clearCart=()=>{setCart([]);};const getCartTotal=()=>{return cart.reduce((total,item)=>total+item.price*item.quantity,0);};const getItemCount=()=>{return cart.reduce((total,item)=>total+item.quantity,0);};const value={cart,addToCart,removeFromCart,updateQuantity,clearCart,getCartTotal,getItemCount,isCartOpen,setIsCartOpen};return/*#__PURE__*/_jsx(CartContext.Provider,{value:value,children:children});};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}