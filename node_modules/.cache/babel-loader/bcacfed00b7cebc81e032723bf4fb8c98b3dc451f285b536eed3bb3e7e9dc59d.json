{"ast":null,"code":"import _objectSpread from \"D:/bureau/E-ecommerce/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"D:/bureau/E-ecommerce/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"source\", \"container\"];\nimport { supportsScrollTimeline } from 'motion-dom';\nimport { scrollInfo } from '../track.mjs';\nconst timelineCache = new Map();\nfunction scrollTimelineFallback(options) {\n  const currentTime = {\n    value: 0\n  };\n  const cancel = scrollInfo(info => {\n    currentTime.value = info[options.axis].progress * 100;\n  }, options);\n  return {\n    currentTime,\n    cancel\n  };\n}\nfunction getTimeline(_ref) {\n  var _timelineCache$get, _options$target, _containerCache$get, _options$offset;\n  let {\n      source,\n      container\n    } = _ref,\n    options = _objectWithoutProperties(_ref, _excluded);\n  const {\n    axis\n  } = options;\n  if (source) container = source;\n  const containerCache = (_timelineCache$get = timelineCache.get(container)) !== null && _timelineCache$get !== void 0 ? _timelineCache$get : new Map();\n  timelineCache.set(container, containerCache);\n  const targetKey = (_options$target = options.target) !== null && _options$target !== void 0 ? _options$target : \"self\";\n  const targetCache = (_containerCache$get = containerCache.get(targetKey)) !== null && _containerCache$get !== void 0 ? _containerCache$get : {};\n  const axisKey = axis + ((_options$offset = options.offset) !== null && _options$offset !== void 0 ? _options$offset : []).join(\",\");\n  if (!targetCache[axisKey]) {\n    targetCache[axisKey] = !options.target && supportsScrollTimeline() ? new ScrollTimeline({\n      source: container,\n      axis\n    }) : scrollTimelineFallback(_objectSpread({\n      container\n    }, options));\n  }\n  return targetCache[axisKey];\n}\nexport { getTimeline };\n//# sourceMappingURL=get-timeline.mjs.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}